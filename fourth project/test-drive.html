<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMW M3 E46 | –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç-–¥—Ä–∞–π–≤</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üèéÔ∏è</text></svg>">
</head>
<body>
<!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
<nav class="navbar">
    <div class="nav-container">
        <a href="index.html" class="logo">
            <i class="fas fa-car"></i>
            BMW <span>M3 E46</span>
        </a>
        <button class="menu-toggle" id="menuToggle">
            <i class="fas fa-bars"></i>
        </button>
        <ul class="nav-menu" id="navMenu">
            <li><a href="index.html" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
            <li><a href="gallery.html" class="nav-link">–ì–∞–ª–µ—Ä–µ—è</a></li>
            <li><a href="tech.html" class="nav-link">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</a></li>
            <li><a href="test-drive.html" class="nav-link active">–¢–µ—Å—Ç-–¥—Ä–∞–π–≤</a></li>
        </ul>
    </div>
</nav>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
<main class="main-content">
    <div class="page active">
        <div class="page-header">
            <h1>–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç-–¥—Ä–∞–π–≤ BMW M3 E46</h1>
            <p>–ò—Å–ø—ã—Ç–∞–π—Ç–µ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–µ –æ—â—É—â–µ–Ω–∏—è –æ—Ç –≤–æ–∂–¥–µ–Ω–∏—è –∏–∫–æ–Ω—ã —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ</p>
        </div>

        <div class="test-drive-intro">
            <p>–ü–æ—á—É–≤—Å—Ç–≤—É–π—Ç–µ –º–æ—â—å 343-—Å–∏–ª—å–Ω–æ–≥–æ –¥–≤–∏–≥–∞—Ç–µ–ª—è S54, –æ—Ü–µ–Ω–∏—Ç–µ —Ç–æ—á–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç–∏ –∏ –Ω–∞—Å–ª–∞–¥–∏—Ç–µ—Å—å —Ñ–∏—Ä–º–µ–Ω–Ω—ã–º –∑–≤—É–∫–æ–º —Ä—è–¥–Ω–æ–π —à–µ—Å—Ç–µ—Ä–∫–∏. –ù–∞—à –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç-–¥—Ä–∞–π–≤ –ø–æ–∑–≤–æ–ª–∏—Ç –≤–∞–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–º, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∏—Å–ø—ã—Ç–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ BMW M3 E46.</p>
        </div>

        <section class="interactive-section">
            <div class="car-view">
                <div class="car-display">
                    <i class="fas fa-car" id="carIcon"></i>
                    <div class="car-info">
                        <div id="speedDisplay">0 –∫–º/—á</div>
                        <div style="font-size: 1rem; opacity: 0.8;">–î–≤–∏–≥–∞—Ç–µ–ª—å: <span id="rpmDisplay">800</span> –æ–±/–º–∏–Ω</div>
                    </div>
                </div>

                <div class="car-stats">
                    <div class="car-stat">
                        <div class="car-stat-value" id="gearDisplay">N</div>
                        <div class="car-stat-label">–ü–µ—Ä–µ–¥–∞—á–∞</div>
                    </div>
                    <div class="car-stat">
                        <div class="car-stat-value" id="modeDisplay">–ö–æ–º—Ñ–æ—Ä—Ç</div>
                        <div class="car-stat-label">–†–µ–∂–∏–º</div>
                    </div>
                    <div class="car-stat">
                        <div class="car-stat-value" id="distanceDisplay">0</div>
                        <div class="car-stat-label">–î–∏—Å—Ç–∞–Ω—Ü–∏—è (–º)</div>
                    </div>
                </div>
            </div>

            <div class="controls-panel">
                <h2>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h2>

                <div class="control-group">
                    <h3><i class="fas fa-tachometer-alt"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–≥–∞—Ç–µ–ª–µ–º</h3>
                    <div class="control-buttons">
                        <button class="control-btn primary" id="startEngine">
                            <i class="fas fa-play"></i> –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–≤–∏–≥–∞—Ç–µ–ª—å
                        </button>
                        <button class="control-btn" id="accelerateBtn">
                            <i class="fas fa-gas-pump"></i> –£—Å–∫–æ—Ä–∏—Ç—å
                        </button>
                        <button class="control-btn" id="brakeBtn">
                            <i class="fas fa-stop"></i> –¢–æ—Ä–º–æ–∑–∏—Ç—å
                        </button>
                    </div>
                </div>

                <div class="control-group">
                    <h3><i class="fas fa-cogs"></i> –ö–æ—Ä–æ–±–∫–∞ –ø–µ—Ä–µ–¥–∞—á</h3>
                    <div class="control-buttons">
                        <button class="control-btn" id="gearUp">
                            <i class="fas fa-arrow-up"></i> –ü–æ–≤—ã—Å–∏—Ç—å
                        </button>
                        <button class="control-btn" id="gearDown">
                            <i class="fas fa-arrow-down"></i> –ü–æ–Ω–∏–∑–∏—Ç—å
                        </button>
                    </div>
                </div>

                <div class="control-group">
                    <h3><i class="fas fa-sliders-h"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–æ–∂–¥–µ–Ω–∏—è</h3>
                    <div class="slider-label">
                        <span>–ú–æ—â–Ω–æ—Å—Ç—å –¥–≤–∏–≥–∞—Ç–µ–ª—è</span>
                        <span class="slider-value" id="powerValue">80%</span>
                    </div>
                    <input type="range" min="20" max="100" value="80" class="control-slider" id="powerSlider">

                    <div class="slider-label">
                        <span>–ñ–µ—Å—Ç–∫–æ—Å—Ç—å –ø–æ–¥–≤–µ—Å–∫–∏</span>
                        <span class="slider-value" id="suspensionValue">–°—Ä–µ–¥–Ω—è—è</span>
                    </div>
                    <input type="range" min="1" max="3" value="2" class="control-slider" id="suspensionSlider">
                </div>

                <div class="sound-control">
                    <button class="sound-btn" id="soundBtn">
                        <i class="fas fa-volume-up"></i>
                        <span>–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–≤—É–∫ –¥–≤–∏–≥–∞—Ç–µ–ª—è</span>
                    </button>
                </div>
            </div>
        </section>

        <section class="drive-experience">
            <h2>–û—â—É—â–µ–Ω–∏—è –æ—Ç –≤–æ–∂–¥–µ–Ω–∏—è</h2>
            <p style="max-width: 800px; margin: 0 auto 2rem; font-size: 1.2rem; color: var(--bmw-gray);">BMW M3 E46 –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –æ–ø—ã—Ç –≤–æ–∂–¥–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –≤—ã—Å–æ–∫–æ —Ü–µ–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã–º–∏ —ç–Ω—Ç—É–∑–∏–∞—Å—Ç–∞–º–∏ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É.</p>

            <div class="experience-cards">
                <div class="experience-card">
                    <i class="fas fa-hand-paper"></i>
                    <h3>–£–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å</h3>
                    <p>–ò–¥–µ–∞–ª—å–Ω–æ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —à–∞—Å—Å–∏ –∏ —Ç–æ—á–Ω–æ–µ —Ä—É–ª–µ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—É—é —É–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞ –ª—é–±—ã—Ö —Å–∫–æ—Ä–æ—Å—Ç—è—Ö.</p>
                </div>

                <div class="experience-card">
                    <i class="fas fa-bolt"></i>
                    <h3>–£—Å–∫–æ—Ä–µ–Ω–∏–µ</h3>
                    <p>–†–∞–∑–≥–æ–Ω —Å 0 –¥–æ 100 –∫–º/—á –∑–∞ 5.2 —Å–µ–∫—É–Ω–¥—ã —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–º –≤–æ–µ–º —Ä—è–¥–Ω–æ–π —à–µ—Å—Ç–µ—Ä–∫–∏, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–µ–µ —Å —Ä–æ—Å—Ç–æ–º –æ–±–æ—Ä–æ—Ç–æ–≤.</p>
                </div>

                <div class="experience-card">
                    <i class="fas fa-road"></i>
                    <h3>–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å</h3>
                    <p>–ù–∞ –≤—ã—Å–æ–∫–∏—Ö —Å–∫–æ—Ä–æ—Å—Ç—è—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è —É—Å—Ç–æ–π—á–∏–≤—ã–º –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º –±–ª–∞–≥–æ–¥–∞—Ä—è –∞—ç—Ä–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º—É –¥–∏–∑–∞–π–Ω—É –∏ —Ç—â–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–≤–µ—Å–∫–µ.</p>
                </div>
            </div>
        </section>

        <section class="booking-section">
            <h2>–ó–∞–±—Ä–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç-–¥—Ä–∞–π–≤</h2>
            <p>–ò—Å–ø—ã—Ç–∞–π—Ç–µ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –æ—â—É—â–µ–Ω–∏—è –æ—Ç –≤–æ–∂–¥–µ–Ω–∏—è BMW M3 E46 –ª–∏—á–Ω–æ. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É, –∏ –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç-–¥—Ä–∞–π–≤–∞.</p>

            <div class="booking-form">
                <form id="testDriveForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="name">–í–∞—à–µ –∏–º—è</label>
                            <input type="text" id="name" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                            <input type="tel" id="phone" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" required>
                        </div>
                        <div class="form-group">
                            <label for="date">–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–∞—è –¥–∞—Ç–∞</label>
                            <input type="date" id="date" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="location">–õ–æ–∫–∞—Ü–∏—è</label>
                        <select id="location" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥</option>
                            <option value="moscow">–ú–æ—Å–∫–≤–∞</option>
                            <option value="petersburg">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
                            <option value="kazan">–ö–∞–∑–∞–Ω—å</option>
                            <option value="ekaterinburg">–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥</option>
                            <option value="sochi">–°–æ—á–∏</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="message">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è</label>
                        <input type="text" id="message" placeholder="–ú–∞—Ä—à—Ä—É—Ç, –æ—Å–æ–±—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ —Ç.–¥.">
                    </div>

                    <button type="submit" class="submit-btn">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç-–¥—Ä–∞–π–≤</button>
                </form>
            </div>
        </section>
    </div>
</main>

<!-- –ü–æ–¥–≤–∞–ª -->
<footer class="footer">
    <div class="footer-content">
        <div class="footer-section">
            <div class="footer-logo">BMW <span>M3 E46</span></div>
            <p style="color: var(--bmw-silver); margin-top: 1rem; font-size: 0.95rem;">–õ–µ–≥–µ–Ω–¥–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞, –æ–ø—Ä–µ–¥–µ–ª–∏–≤—à–∞—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö —Å–µ–¥–∞–Ω–æ–≤ –Ω–∞ –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏—è –≤–ø–µ—Ä–µ–¥.</p>
            <div class="social-links">
                <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
            </div>
        </div>

        <div class="footer-section">
            <h4 style="color: white; margin-bottom: 1.5rem; font-size: 1.2rem;">–ù–∞–≤–∏–≥–∞—Ü–∏—è</h4>
            <div class="footer-links">
                <a href="index.html" class="footer-link"><i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è</a>
                <a href="gallery.html" class="footer-link"><i class="fas fa-images"></i> –ì–∞–ª–µ—Ä–µ—è</a>
                <a href="tech.html" class="footer-link"><i class="fas fa-cogs"></i> –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</a>
                <a href="test-drive.html" class="footer-link"><i class="fas fa-steering-wheel"></i> –¢–µ—Å—Ç-–¥—Ä–∞–π–≤</a>
            </div>
        </div>

        <div class="footer-section">
            <h4 style="color: white; margin-bottom: 1.5rem; font-size: 1.2rem;">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h4>
            <div class="footer-links">
                <a href="#" class="footer-link"><i class="fas fa-envelope"></i> info@bmw-m3-e46.ru</a>
                <a href="#" class="footer-link"><i class="fas fa-phone"></i> +7 (999) 123-45-67</a>
                <a href="#" class="footer-link"><i class="fas fa-map-marker-alt"></i> –ú–æ—Å–∫–≤–∞, —É–ª. –ê–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–∞—è, 1</a>
            </div>
        </div>

        <div class="copyright">
            <p>&copy; 2023 BMW M3 E46 Legend Project. –≠—Ç–æ—Ç —Å–∞–π—Ç —Å–æ–∑–¥–∞–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º —Å–∞–π—Ç–æ–º BMW.</p>
            <p style="margin-top: 0.5rem; font-size: 0.8rem;">–í—Å–µ —É–ø–æ–º—è–Ω—É—Ç—ã–µ —Ç–æ–≤–∞—Ä–Ω—ã–µ –∑–Ω–∞–∫–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –∏—Ö –∑–∞–∫–æ–Ω–Ω—ã–º –≤–ª–∞–¥–µ–ª—å—Ü–∞–º.</p>
        </div>
    </div>
</footer>

<script src="script.js"></script>
<script>
    // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –¥–ª—è —Ç–µ—Å—Ç-–¥—Ä–∞–π–≤–∞ JavaScript
    document.addEventListener('DOMContentLoaded', function() {
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ—Å—Ç-–¥—Ä–∞–π–≤–∞
        const state = {
            engineOn: false,
            speed: 0,
            rpm: 800,
            gear: 'N',
            mode: '–ö–æ–º—Ñ–æ—Ä—Ç',
            distance: 0,
            accelerating: false,
            braking: false,
            soundPlaying: false,
            powerLevel: 80,
            suspensionLevel: 2
        };

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const carIcon = document.getElementById('carIcon');
        const speedDisplay = document.getElementById('speedDisplay');
        const rpmDisplay = document.getElementById('rpmDisplay');
        const gearDisplay = document.getElementById('gearDisplay');
        const modeDisplay = document.getElementById('modeDisplay');
        const distanceDisplay = document.getElementById('distanceDisplay');

        const startEngineBtn = document.getElementById('startEngine');
        const accelerateBtn = document.getElementById('accelerateBtn');
        const brakeBtn = document.getElementById('brakeBtn');
        const gearUpBtn = document.getElementById('gearUp');
        const gearDownBtn = document.getElementById('gearDown');
        const soundBtn = document.getElementById('soundBtn');
        const powerSlider = document.getElementById('powerSlider');
        const suspensionSlider = document.getElementById('suspensionSlider');
        const powerValue = document.getElementById('powerValue');
        const suspensionValue = document.getElementById('suspensionValue');

        // –§–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        const testDriveForm = document.getElementById('testDriveForm');

        // –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–≤–∏–≥–∞—Ç–µ–ª—è
        startEngineBtn.addEventListener('click', function() {
            state.engineOn = !state.engineOn;

            if (state.engineOn) {
                startEngineBtn.innerHTML = '<i class="fas fa-stop"></i> –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–≤–∏–≥–∞—Ç–µ–ª—å';
                startEngineBtn.style.background = 'linear-gradient(135deg, #e60012 0%, #ff3333 100%)';

                state.rpm = 900;
                state.gear = '1';
                updateDisplay();

                if (window.showNotification) {
                    window.showNotification('–î–≤–∏–≥–∞—Ç–µ–ª—å –∑–∞–ø—É—â–µ–Ω!', 'success');
                }
            } else {
                startEngineBtn.innerHTML = '<i class="fas fa-play"></i> –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–≤–∏–≥–∞—Ç–µ–ª—å';
                startEngineBtn.style.background = 'linear-gradient(135deg, var(--bmw-blue) 0%, var(--bmw-blue-light) 100%)';

                state.speed = 0;
                state.rpm = 800;
                state.gear = 'N';
                updateDisplay();

                if (window.showNotification) {
                    window.showNotification('–î–≤–∏–≥–∞—Ç–µ–ª—å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω', 'info');
                }
            }
        });

        // –£—Å–∫–æ—Ä–µ–Ω–∏–µ
        accelerateBtn.addEventListener('mousedown', function() {
            if (!state.engineOn) {
                if (window.showNotification) {
                    window.showNotification('–°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–≤–∏–≥–∞—Ç–µ–ª—å!', 'error');
                }
                return;
            }

            state.accelerating = true;
            accelerateCar();
        });

        accelerateBtn.addEventListener('mouseup', function() {
            state.accelerating = false;
            carIcon.classList.remove('accelerating');
        });

        // –¢–æ—Ä–º–æ–∂–µ–Ω–∏–µ
        brakeBtn.addEventListener('mousedown', function() {
            state.braking = true;
            brakeCar();
        });

        brakeBtn.addEventListener('mouseup', function() {
            state.braking = false;
        });

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞—á
        const gears = ['N', '1', '2', '3', '4', '5', '6'];
        let gearIndex = 0;

        gearUpBtn.addEventListener('click', function() {
            if (!state.engineOn) {
                if (window.showNotification) {
                    window.showNotification('–°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–≤–∏–≥–∞—Ç–µ–ª—å!', 'error');
                }
                return;
            }

            if (gearIndex < gears.length - 1) {
                gearIndex++;
                state.gear = gears[gearIndex];
                updateDisplay();

                if (window.showNotification) {
                    window.showNotification(`–ü–µ—Ä–µ–¥–∞—á–∞ –ø–æ–≤—ã—à–µ–Ω–∞ –¥–æ ${state.gear}`, 'info');
                }
            }
        });

        gearDownBtn.addEventListener('click', function() {
            if (!state.engineOn) {
                if (window.showNotification) {
                    window.showNotification('–°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–≤–∏–≥–∞—Ç–µ–ª—å!', 'error');
                }
                return;
            }

            if (gearIndex > 0) {
                gearIndex--;
                state.gear = gears[gearIndex];
                updateDisplay();

                if (window.showNotification) {
                    window.showNotification(`–ü–µ—Ä–µ–¥–∞—á–∞ –ø–æ–Ω–∏–∂–µ–Ω–∞ –¥–æ ${state.gear}`, 'info');
                }
            }
        });

        // –ó–≤—É–∫ –¥–≤–∏–≥–∞—Ç–µ–ª—è
        soundBtn.addEventListener('click', function() {
            state.soundPlaying = !state.soundPlaying;

            if (state.soundPlaying) {
                soundBtn.classList.add('playing');
                soundBtn.innerHTML = '<i class="fas fa-volume-up"></i><span>–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–≤—É–∫ –¥–≤–∏–≥–∞—Ç–µ–ª—è</span>';

                if (window.showNotification) {
                    window.showNotification('–ó–≤—É–∫ –¥–≤–∏–≥–∞—Ç–µ–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è', 'info');
                }
            } else {
                soundBtn.classList.remove('playing');
                soundBtn.innerHTML = '<i class="fas fa-volume-up"></i><span>–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–≤—É–∫ –¥–≤–∏–≥–∞—Ç–µ–ª—è</span>';
            }
        });

        // –°–ª–∞–π–¥–µ—Ä—ã
        powerSlider.addEventListener('input', function() {
            state.powerLevel = parseInt(this.value);
            powerValue.textContent = `${state.powerLevel}%`;

            // –û–±–Ω–æ–≤–ª—è–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–æ—â–Ω–æ—Å—Ç–∏
            if (state.speed > state.powerLevel * 3) {
                state.speed = state.powerLevel * 3;
                updateDisplay();
            }
        });

        suspensionSlider.addEventListener('input', function() {
            state.suspensionLevel = parseInt(this.value);
            const levels = ['–ú—è–≥–∫–∞—è', '–°—Ä–µ–¥–Ω—è—è', '–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è'];
            suspensionValue.textContent = levels[state.suspensionLevel - 1];
            state.mode = levels[state.suspensionLevel - 1];
            modeDisplay.textContent = state.mode;
        });

        // –§—É–Ω–∫—Ü–∏—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
        function accelerateCar() {
            if (!state.accelerating || !state.engineOn) return;

            carIcon.classList.add('accelerating');

            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –æ–±–æ—Ä–æ—Ç—ã
            const acceleration = state.powerLevel / 50;
            state.speed = Math.min(state.speed + acceleration, state.powerLevel * 3);

            // –û–±–æ—Ä–æ—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –ø–µ—Ä–µ–¥–∞—á–∏
            if (state.gear !== 'N') {
                const gearMultiplier = parseInt(state.gear) || 1;
                state.rpm = Math.min(800 + (state.speed * 20 * gearMultiplier), 8000);
            }

            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –¥–∏—Å—Ç–∞–Ω—Ü–∏—é
            state.distance += Math.floor(state.speed / 10);

            updateDisplay();

            // –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
            setTimeout(accelerateCar, 100);
        }

        // –§—É–Ω–∫—Ü–∏—è —Ç–æ—Ä–º–æ–∂–µ–Ω–∏—è
        function brakeCar() {
            if (!state.braking) return;

            // –£–º–µ–Ω—å—à–∞–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å
            state.speed = Math.max(state.speed - 5, 0);

            // –£–º–µ–Ω—å—à–∞–µ–º –æ–±–æ—Ä–æ—Ç—ã
            if (state.speed === 0) {
                state.rpm = state.engineOn ? 900 : 800;
            } else {
                state.rpm = Math.max(state.rpm - 200, 900);
            }

            updateDisplay();

            // –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ç–æ—Ä–º–æ–∂–µ–Ω–∏—è
            if (state.braking) {
                setTimeout(brakeCar, 100);
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏—Å–ø–ª–µ—è
        function updateDisplay() {
            speedDisplay.textContent = `${Math.round(state.speed)} –∫–º/—á`;
            rpmDisplay.textContent = Math.round(state.rpm);
            gearDisplay.textContent = state.gear;
            modeDisplay.textContent = state.mode;
            distanceDisplay.textContent = state.distance;
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        if (testDriveForm) {
            testDriveForm.addEventListener('submit', function(e) {
                e.preventDefault();

                // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
                const formData = {
                    name: document.getElementById('name').value,
                    phone: document.getElementById('phone').value,
                    email: document.getElementById('email').value,
                    date: document.getElementById('date').value,
                    location: document.getElementById('location').value,
                    message: document.getElementById('message').value
                };

                // –ò–º–∏—Ç–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏
                console.log('–î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã:', formData);

                if (window.showNotification) {
                    window.showNotification('–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.', 'success');
                }

                // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
                testDriveForm.reset();

                // –ê–Ω–∏–º–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
                const submitBtn = testDriveForm.querySelector('.submit-btn');
                const originalText = submitBtn.textContent;

                submitBtn.textContent = '–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!';
                submitBtn.style.background = 'linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%)';

                setTimeout(() => {
                    submitBtn.textContent = originalText;
                    submitBtn.style.background = 'white';
                }, 3000);
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateDisplay();

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
        suspensionSlider.addEventListener('change', function() {
            if (state.suspensionLevel === 3 && window.showNotification) {
                window.showNotification('–í–∫–ª—é—á–µ–Ω —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º! –£–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∞.', 'info');
            }
        });

        console.log('–¢–µ—Å—Ç-–¥—Ä–∞–π–≤ BMW M3 E46 –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω!');
    });
</script>
</body>
</html>